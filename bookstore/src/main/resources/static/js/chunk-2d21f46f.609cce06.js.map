{"version":3,"sources":["webpack:///./src/views/sale/List.vue?3dbd","webpack:///src/views/sale/List.vue","webpack:///./src/views/sale/List.vue?345d","webpack:///./src/views/sale/List.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_l","item","key","id","name","params","categoryId","on","$event","open","_v","_s","i","directives","rawName","value","model","expression","staticClass","icon","price","toFixed","_e","bookName","author","amount","rating","description","inventoryId","page","totalPages","last","next","appointed","callback","$$v","$set","staticRenderFns","data","methods","initialize","getCategories","getLatestBookInventories","getHotestBookInventories","axios","get","created","component","VBtn","VCard","VCardActions","VCardSubtitle","VCardText","VCardTitle","VCol","VContainer","VIcon","VImg","VList","VListItem","VListItemContent","VListItemSubtitle","VListItemTitle","VPagination","VRating","VRow","VSheet","VSpacer","VSwitch","VTab","VTabs","VTabsSlider"],"mappings":"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","file":"js/chunk-2d21f46f.609cce06.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-sheet',{attrs:{\"elevation\":\"6\"}},[_c('v-tabs',{attrs:{\"next-icon\":\"mdi-arrow-right-bold-box-outline\",\"prev-icon\":\"mdi-arrow-left-bold-box-outline\",\"show-arrows\":\"\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"#212121\"}}),_vm._l((_vm.categories),function(item){return _c('v-tab',{key:item.id,attrs:{\"link\":\"\",\"to\":{ name : 'BookSaleList', params: { categoryId: item.id }}},on:{\"click\":function($event){return _vm.open('BookSaleList', item.id)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])})],2)],1)],1)],1),_c('v-row',[_c('v-col',{attrs:{\"sm\":\"8\"}},[_vm._l((_vm.bookInventories),function(item,i){return _c('v-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.model),expression:\"!model\"}],key:i,staticClass:\"mb-6\"},[_c('v-row',[_c('v-col',{staticClass:\"text-center\",attrs:{\"sm\":\"4\"}},[(item.icon)?_c('v-img',{staticClass:\"mx-auto mt-3 rounded\",attrs:{\"src\":item.icon,\"alt\":\"图书图标\",\"width\":\"160\",\"height\":\"200\"}}):_c('v-img',{staticClass:\"mx-auto mt-3 rounded\",attrs:{\"src\":require(\"../../assets/sale/book.jpeg\"),\"alt\":\"图书图标\",\"width\":\"150\",\"height\":\"150\"}}),(item.price)?_c('div',{staticClass:\"mt-4\"},[_c('span',[_vm._v(_vm._s(item.price.toFixed(2)))]),_c('span',{staticClass:\"ml-1\"},[_vm._v(\"RMB\")])]):_vm._e()],1),_c('v-col',{attrs:{\"sm\":\"8\"}},[_c('v-card-title',[_vm._v(_vm._s(item.bookName))]),_c('v-card-subtitle',[_c('v-icon',{staticClass:\"mx-2\",attrs:{\"size\":\"15\"}},[_vm._v(\"mdi-pencil\")]),_c('span',[_vm._v(_vm._s(item.author))]),_c('v-icon',{staticClass:\"mx-2\",attrs:{\"size\":\"15\"}},[_vm._v(\"mdi-store\")]),_c('span',[_vm._v(_vm._s(item.amount))])],1),_c('v-card-text',[_c('v-row',{staticClass:\"mx-0\",attrs:{\"align\":\"center\"}},[_c('v-rating',{attrs:{\"value\":item.rating * 0.5,\"color\":\"amber\",\"dense\":\"\",\"half-increments\":\"\",\"readonly\":\"\",\"size\":\"16\"}}),_c('div',{staticClass:\"grey--text ms-4\"},[_vm._v(\" \"+_vm._s(item.rating.toFixed(2))+\" \")])],1),_c('div',{staticClass:\"mt-4\"},[_vm._v(_vm._s(item.description))])],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"secondary\",\"to\":{ name: 'BookSaleDetail', params: { inventoryId: item.id }}}},[_vm._v(\" Learn More \")])],1)],1)}),_c('v-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.model),expression:\"model\"}]},_vm._l((_vm.bookInventories),function(item,i){return _c('v-col',{key:i,attrs:{\"sm\":\"4\"}},[_c('v-card',{staticClass:\"text-center\",attrs:{\"link\":\"\",\"to\":{ name: 'BookSaleDetail', params: { inventoryId: item.id }}}},[(item.icon)?_c('v-img',{staticClass:\"mx-auto mt-3 rounded\",attrs:{\"src\":item.icon,\"alt\":\"图书图标\",\"width\":\"160\",\"height\":\"200\"}}):_c('v-img',{staticClass:\"mx-auto mt-3 rounded\",attrs:{\"src\":require(\"../../assets/sale/book.jpeg\"),\"alt\":\"图书图标\",\"width\":\"150\",\"height\":\"150\"}}),(item.price)?_c('div',{staticClass:\"mt-4\"},[_c('span',[_vm._v(_vm._s(item.price.toFixed(2)))]),_c('span',{staticClass:\"ml-1\"},[_vm._v(\"RMB\")])]):_vm._e()],1)],1)}),1),(_vm.page.totalPages)?_c('v-pagination',{attrs:{\"length\":_vm.page.totalPages,\"total-visible\":5},on:{\"previous\":function($event){return _vm.last(_vm.page)},\"next\":function($event){return _vm.next(_vm.page)},\"input\":function($event){return _vm.appointed(_vm.page)}},model:{value:(_vm.page.number),callback:function ($$v) {_vm.$set(_vm.page, \"number\", $$v)},expression:\"page.number\"}}):_vm._e()],2),_c('v-col',{attrs:{\"sm\":\"4\"}},[_c('v-switch',{staticClass:\"ml-2\",attrs:{\"inset\":\"\",\"label\":\"切换视图\",\"color\":\"primary\"},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}}),_c('v-card',[_c('v-card-title',[_c('span',[_vm._v(\"热销图书\")]),_c('v-icon',{staticClass:\"ml-2\"},[_vm._v(\"mdi-fire\")])],1),_c('v-card-subtitle',[_vm._v(\"Book Recommand\")]),_c('v-card-text',[_c('v-list',{attrs:{\"two-line\":\"\"}},_vm._l((_vm.hotBookInventories),function(item,i){return _c('v-list-item',{key:i,attrs:{\"link\":\"\",\"to\":{ name: 'BookSaleDetail', params: { inventoryId: item.id }}}},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(item.bookName)+\" \")]),_c('v-list-item-subtitle',{staticClass:\"mt-1\"},[_c('v-rating',{attrs:{\"value\":item.rating * 0.5,\"color\":\"purple\",\"dense\":\"\",\"half-increments\":\"\",\"readonly\":\"\",\"size\":\"14\"}})],1)],1)],1)}),1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fluid>\r\n    <!--导航栏-->\r\n    <v-row>\r\n      <v-col cols=\"12\">\r\n        <v-sheet elevation=\"6\">\r\n          <v-tabs next-icon=\"mdi-arrow-right-bold-box-outline\" prev-icon=\"mdi-arrow-left-bold-box-outline\" show-arrows>\r\n            <v-tabs-slider color=\"#212121\"></v-tabs-slider>\r\n            <v-tab v-for=\"item in categories\" :key=\"item.id\" link :to=\"{ name : 'BookSaleList', params: { categoryId: item.id }}\" @click=\"open('BookSaleList', item.id)\">\r\n              {{ item.name }}\r\n            </v-tab>\r\n          </v-tabs>\r\n        </v-sheet>\r\n      </v-col>\r\n    </v-row>\r\n    <!--图书和热销（对应分类）-->\r\n    <v-row>\r\n      <v-col sm=\"8\">\r\n        <v-card v-show=\"!model\" v-for=\"(item, i) in bookInventories\" :key=\"i\" class=\"mb-6\">\r\n          <v-row>\r\n            <!--图书图标-->\r\n            <v-col sm=\"4\" class=\"text-center\">\r\n              <v-img v-if=\"item.icon\" :src=\"item.icon\" alt=\"图书图标\" width=\"160\" height=\"200\" class=\"mx-auto mt-3 rounded\"></v-img>\r\n              <v-img v-else src=\"../../assets/sale/book.jpeg\" alt=\"图书图标\" width=\"150\" height=\"150\" class=\"mx-auto mt-3 rounded\"></v-img>\r\n              <!--价格-->\r\n              <div v-if=\"item.price\" class=\"mt-4\">\r\n                <span>{{ item.price.toFixed(2) }}</span>\r\n                <span class=\"ml-1\">RMB</span>\r\n              </div>\r\n            </v-col>\r\n            <!--图书信息，包括图书名，文字介绍，评级，作者等-->\r\n            <v-col sm=\"8\">\r\n              <v-card-title>{{ item.bookName }}</v-card-title>\r\n              <v-card-subtitle>\r\n                <v-icon class=\"mx-2\" size=\"15\">mdi-pencil</v-icon>\r\n                <span>{{ item.author }}</span>\r\n                <v-icon class=\"mx-2\" size=\"15\">mdi-store</v-icon>\r\n                <span>{{ item.amount }}</span>\r\n              </v-card-subtitle>\r\n              <v-card-text>\r\n                <!--评分-->\r\n                <v-row align=\"center\" class=\"mx-0\">\r\n                  <v-rating\r\n                    :value=\"item.rating * 0.5\"\r\n                    color=\"amber\"\r\n                    dense\r\n                    half-increments\r\n                    readonly\r\n                    size=\"16\"\r\n                  ></v-rating>\r\n                  <div class=\"grey--text ms-4\">\r\n                    {{ item.rating.toFixed(2) }}\r\n                  </div>\r\n                </v-row>\r\n                <!--简介-->\r\n                <div class=\"mt-4\">{{ item.description }}</div>\r\n              </v-card-text>\r\n            </v-col>\r\n          </v-row>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn small color=\"secondary\" :to=\"{ name: 'BookSaleDetail', params: { inventoryId: item.id }}\">\r\n              Learn More\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n        <v-row v-show=\"model\">\r\n          <v-col sm=\"4\" v-for=\"(item, i) in bookInventories\" :key=\"i\">\r\n            <v-card class=\"text-center\" link :to=\"{ name: 'BookSaleDetail', params: { inventoryId: item.id }}\">\r\n              <v-img v-if=\"item.icon\" :src=\"item.icon\" alt=\"图书图标\" width=\"160\" height=\"200\" class=\"mx-auto mt-3 rounded\"></v-img>\r\n              <v-img v-else src=\"../../assets/sale/book.jpeg\" alt=\"图书图标\" width=\"150\" height=\"150\" class=\"mx-auto mt-3 rounded\"></v-img>\r\n              <!--价格-->\r\n              <div v-if=\"item.price\" class=\"mt-4\">\r\n                <span>{{ item.price.toFixed(2) }}</span>\r\n                <span class=\"ml-1\">RMB</span>\r\n              </div>\r\n            </v-card>\r\n          </v-col>\r\n        </v-row>\r\n        <!--分页，v-if可以让分页加载的更自然，不会出现什么都没有却有分页的情况-->\r\n        <v-pagination v-if=\"page.totalPages\" v-model=\"page.number\" :length=\"page.totalPages\" :total-visible=\"5\" v-on:previous=\"last(page)\" v-on:next=\"next(page)\" v-on:input=\"appointed(page)\"></v-pagination>\r\n      </v-col>\r\n      <!--热销图书-->\r\n      <v-col sm=\"4\">\r\n        <v-switch v-model=\"model\" inset label=\"切换视图\" color=\"primary\" class=\"ml-2\"></v-switch>\r\n        <v-card>\r\n          <v-card-title>\r\n            <span>热销图书</span>\r\n            <v-icon class=\"ml-2\">mdi-fire</v-icon>\r\n          </v-card-title>\r\n          <v-card-subtitle>Book Recommand</v-card-subtitle>\r\n          <v-card-text>\r\n            <v-list two-line>\r\n              <v-list-item v-for=\"(item, i) in hotBookInventories\" :key=\"i\" link :to=\"{ name: 'BookSaleDetail', params: { inventoryId: item.id }}\">\r\n                <v-list-item-content>\r\n                  <v-list-item-title>\r\n                    {{ item.bookName }}\r\n                  </v-list-item-title>\r\n                  <v-list-item-subtitle class=\"mt-1\">\r\n                    <v-rating :value=\"item.rating * 0.5\" color=\"purple\" dense half-increments readonly size=\"14\">\r\n                    </v-rating>\r\n                  </v-list-item-subtitle>\r\n                </v-list-item-content>\r\n              </v-list-item>\r\n            </v-list>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BookSaleList',\r\n  data: () => ({\r\n    // 切换列表模式开关\r\n    model: false,\r\n    // 各种分类\r\n    categories: [],\r\n    // 图书\r\n    bookInventories: [],\r\n    // 热销图书\r\n    hotBookInventories: [],\r\n    // 记录当前是在第几页\r\n    page: {\r\n      size: 10,\r\n      totalElements: 0,\r\n      totalPages: 0,\r\n      number: 0\r\n    }\r\n  }),\r\n  methods: {\r\n    initialize () {\r\n      // 初始化页面，调用多个方法\r\n      this.getCategories()\r\n      this.getLatestBookInventories()\r\n      this.getHotestBookInventories()\r\n    },\r\n    getCategories () {\r\n      // 获取所有分类\r\n      this.axios.get(\r\n        '/api/bookCategories'\r\n      ).then(response => {\r\n        this.categories = response.data._embedded.bookCategories\r\n      })\r\n    },\r\n    getLatestBookInventories () {\r\n      // 获取最新录入的图书\r\n      this.axios.get(\r\n        '/api/bookInventories/search/findByCategoryId',\r\n        {\r\n          params: {\r\n            categoryId: this.$route.params.categoryId\r\n          }\r\n        }\r\n      ).then(response => {\r\n        this.bookInventories = response.data._embedded.bookInventories\r\n        this.page = response.data.page\r\n        this.page.number += 1\r\n      })\r\n    },\r\n    getHotestBookInventories () {\r\n      // 获取热门图书\r\n      this.axios.get(\r\n        '/api/bookInventories/search/findByCategoryId',\r\n        {\r\n          params: {\r\n            categoryId: this.$route.params.categoryId,\r\n            sort: 'rating,desc',\r\n            projection: 'inlineCategory',\r\n            size: 10\r\n          }\r\n        }\r\n      ).then(response => {\r\n        this.hotBookInventories = response.data._embedded.bookInventories\r\n      })\r\n    },\r\n    next (page) {\r\n      // 下一页\r\n      this.axios.get(\r\n        '/api/bookInventories/search/findByCategoryId',\r\n        {\r\n          params: {\r\n            page: page.number,\r\n            categoryId: this.$route.params.categoryId\r\n          }\r\n        }\r\n      ).then(response => {\r\n        this.bookInventories = response.data._embedded.bookInventories\r\n        this.page = response.data.page\r\n        this.page.number += 1\r\n      })\r\n    },\r\n    last (page) {\r\n      // 上一页\r\n      this.axios.get(\r\n        '/api/bookInventories/search/findByCategoryId',\r\n        {\r\n          params: {\r\n            page: page.number - 2,\r\n            categoryId: this.$route.params.categoryId\r\n          }\r\n        }\r\n      ).then(response => {\r\n        this.bookInventories = response.data._embedded.bookInventories\r\n        this.page = response.data.page\r\n        this.page.number += 1\r\n      })\r\n    },\r\n    appointed (page) {\r\n      // 指定页\r\n      this.axios.get(\r\n        '/api/bookInventories/search/findByCategoryId',\r\n        {\r\n          params: {\r\n            page: page.number - 1,\r\n            categoryId: this.$route.params.categoryId\r\n          }\r\n        }\r\n      ).then(response => {\r\n        this.bookInventories = response.data._embedded.bookInventories\r\n        this.page = response.data.page\r\n        this.page.number += 1\r\n      })\r\n    },\r\n    open (name, categoryId) {\r\n      // 跳转路由，并且更换内容\r\n      // this.$router.push({\r\n      //   name: name,\r\n      //   params: {\r\n      //     categoryId: categoryId\r\n      //   }\r\n      // })\r\n      this.getLatestBookInventories()\r\n      this.getHotestBookInventories()\r\n    }\r\n  },\r\n  created () {\r\n    // 页面加载时，调用初始化\r\n    this.initialize()\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=540c83f8&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/_vuetify-loader@1.7.2@vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VPagination } from 'vuetify/lib/components/VPagination';\nimport { VRating } from 'vuetify/lib/components/VRating';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VCardTitle,VCol,VContainer,VIcon,VImg,VList,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle,VPagination,VRating,VRow,VSheet,VSpacer,VSwitch,VTab,VTabs,VTabsSlider})\n"],"sourceRoot":""}