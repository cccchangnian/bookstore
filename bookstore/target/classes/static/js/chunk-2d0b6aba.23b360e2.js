(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6aba"],{"1dc4":function(t,a,n){"use strict";n.r(a);var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",[s("v-card",{staticClass:"my-2"},[s("v-row",[s("v-col",{staticClass:"text-center",attrs:{sm:"4"}},[t.bookInventory.icon?s("v-img",{staticClass:"mx-auto mt-3 rounded",attrs:{src:t.bookInventory.icon,width:"160",height:"200"}}):s("v-img",{staticClass:"mx-auto mt-3 rounded",attrs:{src:n("dd0f"),alt:"图书图标",width:"150",height:"150"}}),t.bookInventory.price?s("div",{staticClass:"mt-4"},[s("span",[t._v(t._s(t.bookInventory.price.toFixed(2)))]),s("span",{staticClass:"ml-1"},[t._v("RMB")])]):t._e()],1),s("v-col",{attrs:{sm:"8"}},[s("v-card-title",[t._v(t._s(t.bookInventory.bookName))]),s("v-card-subtitle",{staticClass:"mt-1"},[s("v-icon",{staticClass:"mx-2",attrs:{size:"18"}},[t._v("mdi-pencil")]),s("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.bookInventory.author))]),s("v-icon",{staticClass:"mx-2",attrs:{size:"18"}},[t._v("mdi-store")]),s("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.bookInventory.amount))]),0===t.bookInventory.amount?s("span",{staticClass:"ml-2",staticStyle:{"font-size":"18px"}},[t._v("(库存暂缺)")]):t._e()],1),s("v-card-text",{staticClass:"mt-1"},[s("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[s("v-rating",{attrs:{value:.5*t.bookInventory.rating,color:"amber",dense:"","half-increments":"",readonly:"",size:"18"}}),s("div",{staticClass:"grey--text ms-4"},[t._v(" "+t._s(t.bookInventory.rating.toFixed(2))+" ")])],1),s("div",{staticClass:"mt-4"},[t._v(t._s(t.bookInventory.description))])],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("mdi-heart")])],1),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("mdi-star")])],1)],1)],1)],1)],1),s("v-row",[s("v-col",[s("v-card",[s("v-card-actions",[s("v-btn",{attrs:{small:""},on:{click:function(a){return t.minus()}}},[s("v-icon",[t._v("mdi-minus")])],1),s("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[s("v-avatar",{staticClass:"green darken-4",attrs:{left:""}},[t._v(" "+t._s(t.number)+" ")]),t._v(" numbers ")],1),s("v-btn",{attrs:{small:""},on:{click:function(a){return t.plus()}}},[s("v-icon",[t._v("mdi-plus")])],1),t.bookInventory.amount>0?s("v-btn",{staticClass:"warning",attrs:{small:"",disabled:""===t.$store.state.accessToken},on:{click:function(a){return t.tempShoppingCart()}}},[t._v(" 租借 ")]):s("v-btn",{staticClass:"error",attrs:{small:""}},[t._v(" 库存暂缺，无法租借 ")])],1)],1)],1)],1),s("v-row",[s("v-col",[""!==t.$store.state.accessToken?s("v-form",[s("v-textarea",{attrs:{outlined:""}}),s("v-btn",{attrs:{color:"primary"}},[t._v("Comment")])],1):s("v-alert",{attrs:{type:"warning"}},[t._v("请先登录后再发表评论！")])],1)],1),s("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(a){var n=a.attrs;return[s("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(a){t.snackbar=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(a){t.snackbar=a},expression:"snackbar"}},[t._v(" 加入购物车成功！ ")])],1)},o=[],e={name:"BookRentDetail",data:function(){return{snackbar:!1,shoppingcartDialog:!1,number:1,bookInventory:{id:0,bookName:"",author:"",description:"",price:"",rating:0,amount:0,icon:""}}},methods:{initialize:function(){this.getInventory()},getInventory:function(){var t=this;this.axios.get("/api/rentedBookInventories/"+this.$route.params.inventoryId,{params:{projection:"inlineCategory"}}).then((function(a){t.bookInventory=a.data}))},minus:function(){this.number>1&&(this.number-=1)},plus:function(){this.number<this.bookInventory.amount&&(this.number+=1)},tempShoppingCart:function(){var t=this;this.axios.post(this.$store.state.user._links.user.href+"/rent/tempShoppingCart",{inventoryId:this.bookInventory.id,amount:this.number}).then((function(a){t.$router.push({name:"BookRentTempOrder"})}))}},created:function(){this.initialize()}},r=e,i=n("4ac2"),c=n("7aad"),v=n.n(c),l=n("afe0"),m=n("7100"),u=n("0455"),d=n("b6b0"),b=n("e8d7"),p=n("6599"),k=n("0e6e"),h=n("e903"),_=n("fd12"),f=n("1a1e"),C=n("c9a1"),y=n("95db"),g=n("a9b3"),I=n("2fbc"),x=n("dac5"),V=n("f5b5"),w=Object(i["a"])(r,s,o,!1,null,null,null);a["default"]=w.exports;v()(w,{VAlert:l["a"],VAvatar:m["a"],VBtn:u["a"],VCard:d["a"],VCardActions:b["a"],VCardSubtitle:b["b"],VCardText:b["c"],VCardTitle:b["d"],VChip:p["a"],VCol:k["a"],VContainer:h["a"],VForm:_["a"],VIcon:f["a"],VImg:C["a"],VRating:y["a"],VRow:g["a"],VSnackbar:I["a"],VSpacer:x["a"],VTextarea:V["a"]})}}]);
//# sourceMappingURL=chunk-2d0b6aba.23b360e2.js.map