(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75f64874"],{"1e87":function(t,e,i){},"2fbc":function(t,e,i){"use strict";i("1e87");var s=i("0fe9"),a=i("a7bb"),n=i("dc09"),r=i("5fc5"),o=i("8005"),c=i("5f1a"),l=i("9c48"),u=i("a817");e["a"]=Object(c["a"])(s["a"],a["a"],r["a"],Object(o["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:t=>"string"===typeof t||!1===t},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:n["a"].options.computed.isDark.call(this)},styles(){if(this.absolute)return{};const{bar:t,bottom:e,footer:i,insetFooter:s,left:a,right:n,top:r}=this.$vuetify.application;return{paddingBottom:Object(l["g"])(e+i+s),paddingLeft:this.app?Object(l["g"])(a):void 0,paddingRight:this.app?Object(l["g"])(n):void 0,paddingTop:Object(l["g"])(t+r)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(u["e"])("auto-height",this),0==this.timeout&&Object(u["d"])('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(l["s"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[Object(l["s"])(this)])},genWrapper(){const t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:s["a"].options.computed.classes.call(this),style:s["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{mouseenter:()=>window.clearTimeout(this.activeTimeout),mouseleave:this.setTimeout}});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},t))}},render(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},5468:function(t,e,i){t.exports=i.p+"img/top.034f91f5.jpeg"},f669:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:""}},[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{sm:"6",md:"4"}},[s("v-card",{staticClass:"mx-auto"},[s("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",src:i("5468")}},[s("v-card-title",[t._v("Safety")])],1),s("v-card-text",[s("v-form",{ref:"safetyForm",attrs:{"lazy-validation":"",autocomplete:"off"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-row",[s("v-col",{attrs:{sm:"12"}},[s("v-text-field",{attrs:{rules:t.rules.usernameRules,label:"Username",readonly:"",outlined:""},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1)],1),s("v-row",[s("v-col",{attrs:{sm:"12"}},[s("v-text-field",{ref:"email",attrs:{rules:t.rules.emailRules,label:"Email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1)],1),s("v-row",[s("v-col",{attrs:{sm:"8"}},[s("v-text-field",{attrs:{rules:t.rules.verificationCodeRules,label:"Verification Code",outlined:"","error-messages":t.verificationCodeError},model:{value:t.verificationCode,callback:function(e){t.verificationCode=e},expression:"verificationCode"}})],1),s("v-col",{attrs:{sm:"4"}},[s("v-btn",{attrs:{disabled:!t.reverification,color:"warning",text:""},on:{click:function(e){return t.sendVerificationCode()}}},[t._v("send")]),s("p",{staticClass:"text-center"},[t._v(t._s(t.message))])],1)],1),s("v-btn",{staticClass:"mr-4",attrs:{disabled:!t.valid,color:"primary"},on:{click:function(e){return t.update()}}},[t._v("Update")])],1)],1)],1)],1)],1),s("v-snackbar",{scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[s("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v("Close")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" Information is successfully update! ")])],1)},a=[],n={name:"UserSafety",data:function(){return{snackbar:!1,valid:!0,user:{username:"",email:"",_links:[]},verificationCode:"",time:180,reverification:!0,verificationCodeError:"",rules:{usernameRules:[function(t){return!!t||"Username is none!"},function(t){return(t||"").length>=1&&(t||"").length<=20||"Username must be 1-20 characters!"}],emailRules:[function(t){return/^[a-zA-Z0-9]+@[a-zA-Z]+\.[a-zA-Z]+$/.test(t)||"Not a valid email!"}],verificationCodeRules:[function(t){return!!t||"Verification Code is none!"}]}}},computed:{message:function(){return this.time+" later"}},methods:{initialize:function(){var t=this;this.$nextTick((function(){t.user=Object.assign({},t.$store.state.user),t.$refs.safetyForm.validate()}))},update:function(){var t=this,e=this.$refs.safetyForm.validate();e&&this.axios.patch(this.user._links.user.href+"/email",{email:this.user.email,verificationCode:this.verificationCode}).then((function(e){t.$store.dispatch("setUser",e.data),t.snackbar=!0})).catch((function(){t.verificationCodeError="Verification Code is not correct!"}))},sendVerificationCode:function(){var t=this.$refs.email.validate();t&&this.reverification&&(this.restrictSend(),this.axios.post("/api/email",{email:this.user.email}).then((function(){})))},restrictSend:function(){var t=this;this.time=180,this.reverification=!1;var e=setInterval((function(){t.time>0&&(t.time-=1)}),1e3);setTimeout((function(){clearInterval(e),t.reverification=!0}),18e4)}},created:function(){this.initialize()},watch:{verificationCode:function(){this.verificationCodeError=""}}},r=n,o=i("4ac2"),c=i("7aad"),l=i.n(c),u=i("0455"),d=i("b6b0"),v=i("e8d7"),h=i("0e6e"),m=i("e903"),f=i("fd12"),p=i("c9a1"),b=i("a9b3"),k=i("2fbc"),g=i("d9dc"),C=Object(o["a"])(r,s,a,!1,null,null,null);e["default"]=C.exports;l()(C,{VBtn:u["a"],VCard:d["a"],VCardText:v["c"],VCardTitle:v["d"],VCol:h["a"],VContainer:m["a"],VForm:f["a"],VImg:p["a"],VRow:b["a"],VSnackbar:k["a"],VTextField:g["a"]})}}]);
//# sourceMappingURL=chunk-75f64874.185501ea.js.map